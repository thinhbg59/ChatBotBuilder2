<div class="section container">
	<div class="columns">
	  <div class="column is-3 r-border">
	    <div stick-from-top="0">
         <nav class="panel">
			  <p class="panel-heading">
			    {{flowData.name || 'Loading...'}}
			  </p>
			  <span class="panel-block" *ngIf="isLoadingFlow">
			  	<div class="loader-bar"></div>
			  </span>
			  <span class="panel-block is-active" *ngIf="!isLoadingFlow">
			    <span class="panel-icon">
			      <i class="fa fa-share"></i>
			    </span>
			    <span class="tag" *ngFor="let mt of flowData.matches">{{mt}}</span>
			  </span>
			  <span class="panel-block" *ngIf="!isLoadingFlow">
			    <span class="panel-icon">
			      <i class="fa fa-clock-o"></i>
			    </span>
			    <small>Created at: {{flowData.timestamp_created.at}}</small>
			  </span>
			  <span class="panel-block" *ngIf="!isLoadingFlow">
			    <span class="panel-icon">
			      <i class="fa fa-clock-o"></i>
			    </span>
			    <small>Modified at: {{flowData.timestamp_updated.at}}</small>
			  </span>
			  <span class="panel-block" *ngIf="!isLoadingFlow">
			    <span class="panel-icon">
			      <i class="fa fa-check-square"></i>
			    </span>
			    <small>Triggerd: {{flowData.statastics.triggered || '0'}} times</small>
			  </span>
			  <span class="panel-block" *ngIf="!isLoadingFlow">
			    <span class="panel-icon">
			      <i class="fa fa-clock-o"></i>
			    </span>
			    <small>Last Triggerd: {{flowData.statastics.triggeredAt || '0'}} ago</small>
			  </span>
	</nav>
		</div> 
	  </div>
	  <div class="column">

	  <sub-loader *ngIf="isLoadingFlow" loader-title="Loading Flow.."></sub-loader>


	    <div class="flow anim sliceInUp" *ngIf="!isLoadingFlow">

        <!-- welcome card -->
          <div class="end-card-content">
              <div class="box flow-card" [class.is-loading]="i==4">
	    		    <div class="loader-bar" *ngIf="i==4"></div>
					  <article class="media">
					    <div class="media-content">
					      <div class="content">
					        <p>
					          <strong><a class="button is-outlined">Welcome Message</a></strong> <small>@ Dec</small> <small>31m</small>
					          <br>
					          <span class="l-tag is-light" *ngFor="let m of flowData.welcome.msg">{{m}}</span>
					        </p>
					      </div>
					      <nav class="level is-mobile flow-card-actions">
					        <div class="level-left">
					          <a class="button is-small is-primary is-outlined">
					            <span class="icon is-small"><i class="fa fa-pencil"></i></span>
					            <span>Edit</span>
					          </a> 
					        </div>
					      </nav>
					    </div>
					  </article>
	    			</div>
          	
          </div>

          <div class="flow-card-divider">
	    	  <div class="left">
	    		<div class="bars" style="flex-basis: 61px"></div>
	    		<div class="bar-add-icon"><i class="fa fa-plus" aria-hidden="true"></i></div>
	    		<div class="bars"></div>
	    	  </div>
	    	  <div class="right"></div>
	    	</div>
        <!-- welcome card end -->


        <!-- loop cards -->
	      <div *ngFor="let item of flowData.modules; let i = index;">
	    	<div class="flow-card-content">
	    	    <div class="flow-bar">
	    	    	<div class="bars"></div>
	    	    	<div class="bar-m"></div>
	    	    	<div class="bars"></div>
	    	    </div>
	    		<div class="box flow-card" [class.is-loading]="i==4">
	    		    <div class="loader-bar" *ngIf="i==4"></div>
					  <article class="media">
					    <div class="media-left">
					      <figure class="image is-16x16">
					       {{i+1}}
					      </figure>
					    </div>
					    <div class="media-content">
					      <div class="content">
					        <p>
					          <strong><a class="button is-outlined">{{item.name}}</a></strong> <small>@ Dec</small> <small>31m</small>
					          <br>
					          <span class="l-tag is-light" *ngFor="let m of item.msg">{{m}}</span>
					        </p>
					      </div>
					      <nav class="level is-mobile flow-card-actions">
					        <div class="level-left">
					          <a class="button is-small is-primary is-outlined" (click)="isActiveModal = true">
					            <span class="icon is-small"><i class="fa fa-pencil"></i></span>
					            <span>Edit</span>
					          </a>  &nbsp;
					          <a class="button is-small is-info is-outlined">
					            <span class="icon is-small"><i class="fa fa-clone"></i></span>
					            <span>Copy</span>
					          </a> &nbsp;
					          <a class="button is-small is-danger is-outlined">
					            <span class="icon is-small"><i class="fa fa-trash"></i></span>
					            <span>Delete</span>
					          </a>
					        </div>
					      </nav>
					    </div>
					  </article>
	    			</div>
	    	</div>




	    	<div class="flow-card-divider">
	    	  <div class="left">
	    		<div class="bars"></div>
	    		<div class="bar-add-icon"><i class="fa fa-plus" aria-hidden="true"></i></div>
	    		<div class="bars"></div>
	    	  </div>
	    	  <div class="right"></div>
	    	</div>

        </div>

        <!-- loop cards end  -->

        <!-- welcome card -->

          <div class="flow-card-divider">
	    	  <div class="left">
	    		<div class="bars" style="flex-basis: 11px"></div>
	    	  </div>
	    	  <div class="right"></div>
	    	</div>


          <div class="end-card-content">
              <div class="box flow-card" [class.is-loading]="i==4">
	    		    <div class="loader-bar" *ngIf="i==4"></div>
					  <article class="media">
					    <div class="media-content">
					      <div class="content">
					        <p>
					          <strong><a class="button is-outlined">End Flow </a></strong> <small>@ Dec</small> <small>31m</small>
					          <br>
					          <span class="l-tag is-light" *ngFor="let m of flowData.final.msg">{{m}}</span>
					        </p>
					      </div>
					      <nav class="level is-mobile flow-card-actions">
					        <div class="level-left">
					          <a class="button is-small is-primary is-outlined">
					            <span class="icon is-small"><i class="fa fa-pencil"></i></span>
					            <span>Edit</span>
					          </a>  
					        </div>
					      </nav>
					    </div>
					  </article>
	    			</div>
          	
          </div>

          
        <!-- welcome card end -->



	    </div>

      
			
	  	
	  </div>
	 </div>
</div>	  




<!-- modals -->
<div class="modal is-active" *ngIf="isActiveModal">
  <div class="modal-background"></div>
  <div class="modal-card anim sliceInUp">
    <header class="modal-card-head">
      <p class="modal-card-title">Modal title</p>
      <button class="delete" (click)="isActiveModal = false"></button>
    </header>
    <section class="modal-card-body">

      <form [formGroup]="createFlowItemForm" >
         <div class="input-container">
         	<div class="label">Name Of the Module</div>
         	<div class="field">
         		<input type="text" name="" formControlName="name"/>
         	</div>
         	<div class="err" *ngIf="formErrors.name">{{formErrors.name}}</div>
         </div>

          <div class="input-container no-style">
         	<div class="label">Module Message</div>
         	<div class="field">
         		<tag-input class='tooltip' formControlName="msg" [placeholder]="'+ Add'" [secondaryPlaceholder]="'Add Msgs'" [editable]="true" [modelAsStrings]="true" [(ngModel)]='msg'>  
                 <span class="tooltiptext">Type and Press Enter to add items</span> 
               </tag-input>
         	</div>
         	<div class="err" *ngIf="formErrors.name">{{formErrors.msg}}</div>
         </div>

         <div class="input-container no-style">
         	<div class="label">Before Message</div>
         	<div class="field">
         		<tag-input class='tooltip' formControlName="beforeMsg" [placeholder]="'+ Add'" [secondaryPlaceholder]="'Add Msgs'" [editable]="true" [modelAsStrings]="true" [(ngModel)]='bmsg'>  
                 <span class="tooltiptext">Type and Press Enter to add items</span> 
               </tag-input>
         	</div>
         	<div class="err" *ngIf="formErrors.name">{{formErrors.msg}}</div>
         </div>


         <div class="input-container no-style">
         	<div class="label">After Message</div>
         	<div class="field">
         		<tag-input class='tooltip' formControlName="afterMsg" [placeholder]="'+ Add'" [secondaryPlaceholder]="'Add Msgs'" [editable]="true" [modelAsStrings]="true" [(ngModel)]='amsg'>  
                 <span class="tooltiptext">Type and Press Enter to add items</span> 
               </tag-input>
         	</div>
         	<div class="err" *ngIf="formErrors.name">{{formErrors.msg}}</div>
         </div>


          <br/>
          <div class="columns">
			  <div class="column is-3">
			    Validation Type:
			  </div>
			  <div class="column">
			    <span class="select">
			      <select>
			        <option>Select dropdown</option>
			        <option>With options</option>
			      </select>
			    </span>
			  </div>
		  </div>



		  <br/>
          <div class="columns">
			  <div class="column is-3">
			    Validation Type:
			  </div>
			  <div class="column">
			    <span class="select">
			      <select>
			        <option>Select dropdown</option>
			        <option>With options</option>
			      </select>
			    </span>
			  </div>
		  </div>	  





     </form>





         



    </section>
    <footer class="modal-card-foot">
      <a class="button is-success">Save changes</a>
      <a class="button" (click)="isActiveModal = false">Cancel</a>
    </footer>
  </div>
</div>